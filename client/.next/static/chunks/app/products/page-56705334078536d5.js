(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{1057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5155),r=s(2115),l=s(6874),n=s.n(l),i=s(3819);function c(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async()=>{try{l(!0),d("");let e=await fetch("".concat("http://localhost:5002","/api/products/all_products"));if(!e.ok)throw Error("Failed to load products");let s=await e.json();t(s.products||[])}catch(e){console.error("Error fetching products:",e),d("Unable to load products. Please try again later.")}finally{l(!1)}})()},[]),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 bg-amber-50",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-amber-900 mb-8 text-center",children:"Our Coffee Selection"}),s&&(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,a.jsx)("div",{className:"rounded-full bg-amber-200 h-12 w-12 mb-4"}),(0,a.jsx)("div",{className:"text-amber-800",children:"Loading products..."})]})}),c&&!s&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6 flex items-center justify-center",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-red-600 mr-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,a.jsx)("p",{className:"text-red-700 font-medium",children:c})]}),!s&&!c&&0===e.length&&(0,a.jsx)("div",{className:"flex items-center justify-center h-64 bg-white rounded-lg shadow-sm border border-amber-200",children:(0,a.jsx)("p",{className:"text-xl text-amber-800",children:"No products available at this time"})}),!s&&!c&&e.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(e=>{let t;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-amber-100 hover:shadow-lg transition-shadow duration-300 max-w-sm mx-auto",children:[(0,a.jsx)("div",{className:"relative h-52 w-full overflow-hidden bg-amber-100",children:(0,a.jsx)("img",{src:(0,i.a)(e._id),alt:e.name,className:"h-full w-full object-cover",onError:t=>(0,i.U)(t,e._id)})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-amber-900 mb-2",children:e.name}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-amber-700",children:(t=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t))}),(0,a.jsx)("span",{className:"text-sm bg-amber-100 text-amber-800 px-2 py-1 rounded",children:e.roast_level})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Origin: "}),(0,a.jsx)("span",{className:"text-gray-800",children:e.origin_country})]}),e.tasting_notes&&e.tasting_notes.length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 block mb-1",children:"Tasting Notes:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tasting_notes.map((e,t)=>(0,a.jsx)("span",{className:"inline-block bg-amber-50 text-amber-700 px-2 py-1 text-xs rounded",children:e},t))})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,a.jsx)(n(),{href:"/products/".concat(e._id),className:"block text-center bg-amber-700 text-white py-2 px-4 rounded-md hover:bg-amber-800 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition-colors duration-300",children:"View Details"})]})]},e._id)})})]})}},3819:(e,t,s)=>{"use strict";s.d(t,{U:()=>r,a:()=>a});let a=e=>{let t=window.location.origin;return"".concat(t,"/web-images/product-images/").concat(e,".jpg")},r=(e,t)=>{let s=[".webp",".jpeg",".png"],a=e.currentTarget,r=window.location.origin,l=parseInt(a.getAttribute("data-attempt")||"0",10);if(l<s.length)a.setAttribute("data-attempt",(l+1).toString()),a.src="".concat(r,"/web-images/product-images/").concat(t).concat(s[l]);else if(a.onerror=null,a.style.display="none",a.parentElement){a.parentElement.classList.add("flex","items-center","justify-center");let e=document.createElement("span");e.className="text-amber-700",e.textContent="No image available",a.parentElement.appendChild(e)}}},7157:(e,t,s)=>{Promise.resolve().then(s.bind(s,1057))}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=7157)),_N_E=e.O()}]);